
<!-- README.md is generated from README.Rmd. Please edit that file -->
gmat
====

An R package for simulating covariance and concentration graph matrices.

[![Build Status](https://travis-ci.org/irenecrsn/gmat.svg?branch=master)](https://travis-ci.org/irenecrsn/gmat) [![CRAN downloads](http://cranlogs.r-pkg.org/badges/grand-total/gmat)](http://cran.r-project.org/package=gmat) [![CRAN status](http://www.r-pkg.org/badges/version/gmat)](http://cran.r-project.org/package=gmat)

This package implements the methods described in the [paper](http://proceedings.mlr.press/v72/cordoba18a.html):

> Irene Córdoba, Gherardo Varando, Concha Bielza, Pedro Larrañaga ; Proceedings of the Ninth International Conference on Probabilistic Graphical Models, PMLR 72:61-72, 2018.

It is governed by two main functions, `port` and `diagdom`, which take as input an undirected graph structure `ug` and a sample size `N`, and generates `N` covariance/concentration matrices subject to the zeros imposed by the undirected graph structure `ug`.

The sample is generated by `port` with the method described in the above paper. The classical diagonal dominance method is the one used by function `diagdom`.

Installation
------------

The package is available in CRAN, and can be installed with

``` r
install.packages("gmat")
```

The only R package required for `gmat` is `igraph`, which can be installed directly from CRAN.

An example of use
-----------------

First, we generate a random graph with `3` nodes and density `0.4`, using the `igraph` package. Then we generate, using our `gmat::port` function, `3` matrices consistent with such random graphical structure.

``` r
ug <- igraph::sample_gnp(n = 3, p = 0.5)
matrices <- gmat::port(N = 3, ug = ug)
matrices
#> , , 1
#> 
#>           [,1]       [,2]       [,3]
#> [1,] 0.9757533  0.4518439  0.0000000
#> [2,] 0.4518439  0.6443843 -0.0632021
#> [3,] 0.0000000 -0.0632021  0.0149354
#> 
#> , , 2
#> 
#>           [,1]      [,2]      [,3]
#> [1,] 0.0248556 0.0508676 0.0000000
#> [2,] 0.0508676 0.4165158 0.4047642
#> [3,] 0.0000000 0.4047642 1.1349846
#> 
#> , , 3
#> 
#>           [,1]       [,2]       [,3]
#> [1,] 0.8884782  0.6742819  0.0000000
#> [2,] 0.6742819  0.6335649 -0.0508280
#> [3,] 0.0000000 -0.0508280  0.3092062
```

We apprieciate how the zero pattern is shared by all of the simulated matrices. The return value is an array, and so the individual matrices can be accessed as `matrices[, , n]`, where `n` is the index of the matrix we want to retrieve from the sample, ranging from `1` to `N`.
